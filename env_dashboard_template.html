<html>
<head>
    <title>Jenkins Environment Dashboard</title>
    <style>
        body { font-family: Arial, sans-serif; }
        table { border-collapse: collapse; width: 80%; margin-bottom: 20px; }
        th, td { border: 1px solid #ccc; padding: 12px 20px; text-align: left; }
        th { background-color: #f2f2f2; }
        td.variable { width: 40%; }
        td.value { width: 60%; }
        h2 { color: #2e6c80; }
    </style>
</head>
<body>
    <h1>Jenkins Environment Dashboard</h1>

    {% for branch in branches %}
        <h2>{{ branch }} Environment</h2>

        <!-- AppSettings Table -->
        <table>
            <tr><th>Source</th><th>Variable</th><th>Value</th></tr>
            {% for item in all_data[branch]['appsettings'] %}
                <tr>
                    <td>AppSettings</td>
                    <td>SQL</td>
                    <td>{{ item.sql }}</td>
                </tr>
                <tr>
                    <td>AppSettings</td>
                    <td>Logging</td>
                    <td>{{ item.logging }}</td>
                </tr>
            {% endfor %}
        </table>

        <!-- Docker ENV Table -->
        <table>
            <tr><th>Source</th><th>Variable</th><th>Value</th></tr>
            {% for env in all_data[branch]['docker_env'] %}
                <tr>
                    <td>Dockerfile</td>
                    <td>{{ env.key }}</td>
                    <td>{{ env.value }}</td>
                </tr>
            {% endfor %}
        </table>
    {% endfor %}

</body>
</html>
