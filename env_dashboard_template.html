<html>
<head>
<style>
body { font-family: Arial, sans-serif; background-color: #f7f7f7; }
h1 { color: #2E8B57; }
h2 { color: #1E90FF; }
table { border-collapse: collapse; width: 100%; margin-bottom: 20px; }
th { background-color: #4CAF50; color: white; padding: 8px; text-align: left; }
td { border: 1px solid #ddd; padding: 8px; }
tr:nth-child(even){ background-color: #f2f2f2; }
tr:hover { background-color: #ddd; }
.status-active { color: green; font-weight: bold; }
.status-missing { color: red; font-weight: bold; }
</style>
</head>
<body>
<h1>Jenkins Environment Dashboard</h1>

{% for branch, data in all_env_data.items() %}
    <h2>{{ branch }} Environment</h2>

    <!-- AppSettings Table -->
    <h3>AppSettings</h3>
    <table>
        <tr><th>Source</th><th>Variable</th><th>Value</th></tr>
        {% for var in data.appsettings %}
        <tr>
            <td>AppSettings</td>
            <td>{{ var.variable }}</td>
            <td>{{ var.value }}</td>
        </tr>
        {% endfor %}
    </table>

    <!-- Dockerfile ENV Table -->
    <h3>Dockerfile ENV</h3>
    <table>
        <tr><th>Source</th><th>Variable</th><th>Value</th></tr>
        {% for var in data.docker %}
        <tr>
            <td>Dockerfile</td>
            <td>{{ var.variable }}</td>
            <td>{{ var.value }}</td>
        </tr>
        {% endfor %}
    </table>

{% endfor %}
</body>
</html>

