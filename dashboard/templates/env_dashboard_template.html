<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Environment Variables Dashboard</title>
  <style>
    body { font-family: Arial, sans-serif; background-color: #f7f7f7; }
    h2 { color: #2E8B57; }
    table { border-collapse: collapse; width: 100%; margin-bottom: 20px; }
    th { background-color: #4CAF50; color: white; padding: 8px; text-align: left; }
    td { border: 1px solid #ddd; padding: 8px; }
    tr:nth-child(even){ background-color: #f2f2f2; }
    tr:hover { background-color: #ddd; }
    .status-active { color: green; font-weight: bold; }
    .status-missing { color: red; font-weight: bold; }
  </style>
</head>
<body>
<h2>Environment Variables Dashboard</h2>

{% for branch, data in all_env_data.items() %}
  <h3>{{ branch }} Environment - AppSettings</h3>
  <table>
    <tr><th>Variable</th><th>Value</th><th>Status</th></tr>
    {% for var in data.appsettings %}
      <tr>
        <td>{{ var.variable }}</td>
        <td>{{ var.value }}</td>
        <td class="{{ 'status-active' if var.status=='Active' else 'status-missing' }}">{{ var.status }}</td>
      </tr>
    {% endfor %}
  </table>

  <h3>{{ branch }} Environment - Dockerfile ENV</h3>
  <table>
    <tr><th>Variable</th><th>Value</th><th>Status</th></tr>
    {% for var in data.docker %}
      <tr>
        <td>{{ var.variable }}</td>
        <td>{{ var.value }}</td>
        <td class="{{ 'status-active' if var.status=='Active' else 'status-missing' }}">{{ var.status }}</td>
      </tr>
    {% endfor %}
  </table>
{% endfor %}

</body>
</html>

